<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interactive MCA/PCA results exploration with explor • explor</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Interactive MCA/PCA results exploration with explor">
<meta property="og:description" content="">
<meta property="og:image" content="https://juba.github.io/explor/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">explor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/introduction_en.html">Interactive MCA/PCA results exploration with explor</a>
    </li>
    <li>
      <a href="../articles/introduction_fr.html">Exploration interactive de résultats d'ACP/ACM avec `explor`</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<<<<<<< HEAD
<ul class="nav navbar-nav navbar-right"></ul>
=======
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/juba/explor">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
>>>>>>> 0e28f5e46e565c72f425bc4bc2a4bced1feb277d
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Interactive MCA/PCA results exploration with explor</h1>
                        <h4 class="author">Julien Barnier</h4>
            
            <h4 class="date">2019-04-16</h4>
      
<<<<<<< HEAD
      
=======
      <small class="dont-index">Source: <a href="https://github.com/juba/explor/blob/master/vignettes/introduction_en.Rmd"><code>vignettes/introduction_en.Rmd</code></a></small>
>>>>>>> 0e28f5e46e565c72f425bc4bc2a4bced1feb277d
      <div class="hidden name"><code>introduction_en.Rmd</code></div>

    </div>

    
    
<div id="explor" class="section level2">
<h2 class="hasAnchor">
<a href="#explor" class="anchor"></a>explor</h2>
<p><code>explor</code> is an R package to allow interactive exploration of multivariate analysis results.</p>
<p>For now on, the following analyses are supported :</p>
<table class="table">
<colgroup>
<col width="29%">
<col width="29%">
<col width="22%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th>Analysis</th>
<th>Function</th>
<th>Package</th>
<th>Notes</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Principal component analysis</td>
<td>PCA</td>
<td><a href="http://factominer.free.fr/">FactoMineR</a></td>
<td>-</td>
</tr>
<tr class="even">
<td>Correspondance analysis</td>
<td>CA</td>
<td><a href="http://factominer.free.fr/">FactoMineR</a></td>
<td>-</td>
</tr>
<tr class="odd">
<td>Multiple correspondence analysis</td>
<td>MCA</td>
<td><a href="http://factominer.free.fr/">FactoMineR</a></td>
<td>-</td>
</tr>
<tr class="even">
<td>Principal component analysis</td>
<td>dudi.pca</td>
<td><a href="https://cran.r-project.org/package=ade4">ade4</a></td>
<td>Qualitative supplementary variables are ignored</td>
</tr>
<tr class="odd">
<td>Correspondance analysis</td>
<td>dudi.coa</td>
<td><a href="https://cran.r-project.org/package=ade4">ade4</a></td>
<td>-</td>
</tr>
<tr class="even">
<td>Multiple correspondence analysis</td>
<td>dudi.acm</td>
<td><a href="https://cran.r-project.org/package=ade4">ade4</a></td>
<td>Quantitative supplementary variables are ignored</td>
</tr>
<tr class="odd">
<td>Specific Multiple Correspondance Analysis</td>
<td>speMCA</td>
<td><a href="https://cran.r-project.org/package=GDAtools">GDAtools</a></td>
<td>Supplementary variables are not supported</td>
</tr>
<tr class="even">
<td>Multiple Correspondance Analysis</td>
<td>mca</td>
<td><a href="https://cran.r-project.org/package=MASS">MASS</a></td>
<td>Quantitative supplementary variables are not supported</td>
</tr>
<tr class="odd">
<td>Principal Component Analysis</td>
<td>princomp</td>
<td>stats</td>
<td>Supplementary variables are ignored</td>
</tr>
<tr class="even">
<td>Principal Component Analysis</td>
<td>prcomp</td>
<td>stats</td>
<td>Supplementary variables are ignored</td>
</tr>
</tbody>
</table>
<p>The philosophy behind <code>explor</code> is to only be an exploration interface which doesn’t really do anything by itself : analysis and computations are made in your R script, and <code>explor</code> only helps you visualizing the results. As such it can not disrupt code execution and reproducibility.</p>
</div>
<div id="features" class="section level2">
<h2 class="hasAnchor">
<a href="#features" class="anchor"></a>Features</h2>
<p>For each type of analysis, <code>explor</code> launches a <code>shiny</code> interactive Web interface which is displayed inside RStudio or in your system Web browser. This interface provides a series of tabs with interactive data and graphics.</p>
<p>These data and graphics are displayed with several “interactive” features. Numerical results are shown as dynamic tables which are sortable and searchable thanks to the <code>DT</code> package. Most graphics are generated with the <code>scatterD3</code> package which provides the following features :</p>
<ul>
<li>zoom with your mousewheel</li>
<li>pan with your mouse</li>
<li>tooltips when hovering points</li>
<li>points highlighting when hovering legend items</li>
<li>draggable labels</li>
<li>points selection with a lasso selection tool</li>
<li>ability to export the currently displayed plot as an SVG file</li>
<li>ability to get the R code to reproduce the displayed plot in a script or document</li>
<li>fully updatable plot, which means than any change in the interface controls leads to an animated transition, which can give some interesting visual clues.</li>
</ul>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>Usage is very simple : you just apply the <code><a href="../reference/explor.html">explor()</a></code> function to the result object of one of the supported analysis functions.</p>
<div id="prcomp-princomp-and-massmca" class="section level3">
<h3 class="hasAnchor">
<a href="#prcomp-princomp-and-massmca" class="anchor"></a><code>prcomp</code>, <code>princomp</code> and <code><a href="https://www.rdocumentation.org/packages/MASS/topics/mca">MASS::mca</a></code>
</h3>
<p>To visualize and explore these functions results, just pass the result object to <code><a href="../reference/explor.html">explor()</a></code>.</p>
<p>Here is an example for a sample PCA with <code>princomp</code> :</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(USArrests)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">pca &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/princomp">princomp</a></span>(USArrests, <span class="dt">cor =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="kw"><a href="../reference/explor.html">explor</a></span>(pca)</a></code></pre></div>
<p><code>explor</code> supports the visualization of supplementary individuals whose scores have been computed with <code>predict</code>. You just have to add them as a <code>supi</code> element to your result object.</p>
<p>Here is an example with <code>prcomp</code> :</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">pca &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/prcomp">prcomp</a></span>(USArrests[<span class="dv">6</span><span class="op">:</span><span class="dv">50</span>,], <span class="dt">scale. =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">pca<span class="op">$</span>supi &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(pca, USArrests[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,])</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw"><a href="../reference/explor.html">explor</a></span>(pca)</a></code></pre></div>
<p>For <code><a href="https://www.rdocumentation.org/packages/MASS/topics/mca">MASS::mca</a></code>, <code><a href="../reference/explor.html">explor()</a></code> also supports qualitative supplementary variables. You must include their predicted coordinates to a <code>supv</code> element. It’s also best to manually add row names to the <code>supi</code>data, if any :</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(MASS)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">mca &lt;-<span class="st"> </span>MASS<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/MASS/topics/mca">mca</a></span>(farms[<span class="dv">4</span><span class="op">:</span><span class="dv">20</span>, <span class="dv">2</span><span class="op">:</span><span class="dv">4</span>], <span class="dt">nf =</span> <span class="dv">11</span>)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">supi_df &lt;-<span class="st"> </span>farms[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dv">2</span><span class="op">:</span><span class="dv">4</span>]</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">supi &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(mca, supi_df, <span class="dt">type=</span><span class="st">"row"</span>)</a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/colnames">rownames</a></span>(supi) &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/colnames">rownames</a></span>(supi_df)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">mca<span class="op">$</span>supi &lt;-<span class="st"> </span>supi</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">mca<span class="op">$</span>supv &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(mca, farms[<span class="dv">4</span><span class="op">:</span><span class="dv">20</span>, <span class="dv">1</span>, <span class="dt">drop=</span><span class="ot">FALSE</span>], <span class="dt">type=</span><span class="st">"factor"</span>)</a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="kw"><a href="../reference/explor.html">explor</a></span>(mca)</a></code></pre></div>
<p>Note that the results of these three functions are quite limited : they provide variables and individuals coordinates, but no contributions or squared cosinus.</p>
</div>
<div id="factominer-functions" class="section level3">
<h3 class="hasAnchor">
<a href="#factominer-functions" class="anchor"></a><code>FactoMineR</code> functions</h3>
<p>Supported <code>FactoMineR</code> functions should work “out of the box”. Just pass the result object to <code><a href="../reference/explor.html">explor()</a></code>.</p>
<p>Example with a principal correspondence analysis from <code><a href="https://www.rdocumentation.org/packages/FactoMineR/topics/PCA">FactoMineR::PCA</a></code> :</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(FactoMineR)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(decathlon)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">pca &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/FactoMineR/topics/PCA">PCA</a></span>(decathlon[,<span class="dv">1</span><span class="op">:</span><span class="dv">12</span>], <span class="dt">quanti.sup =</span> <span class="dv">11</span><span class="op">:</span><span class="dv">12</span>)</a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="kw"><a href="../reference/explor.html">explor</a></span>(pca)</a></code></pre></div>
<p>Example with a simple correspondence analysis from <code>FactoMiner::CA</code> :</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(children)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">res.ca &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/FactoMineR/topics/CA">CA</a></span>(children, <span class="dt">row.sup =</span> <span class="dv">15</span><span class="op">:</span><span class="dv">18</span>, <span class="dt">col.sup =</span> <span class="dv">6</span><span class="op">:</span><span class="dv">8</span>)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="kw"><a href="../reference/explor.html">explor</a></span>(res.ca)</a></code></pre></div>
<p>Example with a multiple correspondence analysis from <code><a href="https://www.rdocumentation.org/packages/FactoMineR/topics/MCA">FactoMineR::MCA</a></code> :</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(FactoMineR)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(hobbies)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">mca &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/FactoMineR/topics/MCA">MCA</a></span>(hobbies[<span class="dv">1</span><span class="op">:</span><span class="dv">1000</span>, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">8</span>,<span class="dv">21</span><span class="op">:</span><span class="dv">23</span>)], <span class="dt">quali.sup =</span> <span class="dv">9</span><span class="op">:</span><span class="dv">10</span>, </a>
<a class="sourceLine" id="cb6-4" data-line-number="4">           <span class="dt">quanti.sup =</span> <span class="dv">11</span>, <span class="dt">ind.sup =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">100</span>)</a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="kw"><a href="../reference/explor.html">explor</a></span>(mca)</a></code></pre></div>
</div>
<div id="ade4-functions" class="section level3">
<h3 class="hasAnchor">
<a href="#ade4-functions" class="anchor"></a><code>ade4</code> functions</h3>
<p><code>ade4</code> functions should also work by directly passing the object result to <code><a href="../reference/explor.html">explor()</a></code>.</p>
<p>For example, to visualize a simple PCA results :</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(ade4)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(deug)</a>
<a class="sourceLine" id="cb7-3" data-line-number="3">pca &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ade4/topics/dudi.pca">dudi.pca</a></span>(deug<span class="op">$</span>tab, <span class="dt">scale =</span> <span class="ot">TRUE</span>, <span class="dt">scannf =</span> <span class="ot">FALSE</span>, <span class="dt">nf =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="kw"><a href="../reference/explor.html">explor</a></span>(pca)</a></code></pre></div>
<p>There’s a bit more work to be done if you want to display supplementary elements, as <code>ade4</code> don’t include them directly in the results analysis.</p>
<p>For a principal component analysis, you have to compute supplementary individuals (resp. variables) results with <code>suprow</code> (resp. <code>supcol</code>) and add them manually as a <code>supi</code> (resp. <code>supv</code>) element of your result object.</p>
<p>Here is an example of how to do this :</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(deug)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">d &lt;-<span class="st"> </span>deug<span class="op">$</span>tab</a>
<a class="sourceLine" id="cb8-3" data-line-number="3">sup_var &lt;-<span class="st"> </span>d[<span class="op">-</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>), <span class="dv">8</span><span class="op">:</span><span class="dv">9</span>]</a>
<a class="sourceLine" id="cb8-4" data-line-number="4">sup_ind &lt;-<span class="st"> </span>d[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="op">-</span>(<span class="dv">8</span><span class="op">:</span><span class="dv">9</span>)]</a>
<a class="sourceLine" id="cb8-5" data-line-number="5">pca &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ade4/topics/dudi.pca">dudi.pca</a></span>(d[<span class="op">-</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>), <span class="op">-</span>(<span class="dv">8</span><span class="op">:</span><span class="dv">9</span>)], <span class="dt">scale =</span> <span class="ot">TRUE</span>, <span class="dt">scannf =</span> <span class="ot">FALSE</span>, <span class="dt">nf =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="co">## Supplementary individuals</span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7">supi &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ade4/topics/suprow">suprow</a></span>(pca, sup_ind)</a>
<a class="sourceLine" id="cb8-8" data-line-number="8">pca<span class="op">$</span>supi &lt;-<span class="st"> </span>supi<span class="op">$</span>lisup</a>
<a class="sourceLine" id="cb8-9" data-line-number="9"><span class="co">## Supplementary variables</span></a>
<a class="sourceLine" id="cb8-10" data-line-number="10">supv &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ade4/topics/supcol">supcol</a></span>(pca, <span class="kw"><a href="https://www.rdocumentation.org/packages/ade4/topics/dudi.pca">dudi.pca</a></span>(sup_var, <span class="dt">scale =</span> <span class="ot">TRUE</span>, <span class="dt">scannf =</span> <span class="ot">FALSE</span>)<span class="op">$</span>tab)</a>
<a class="sourceLine" id="cb8-11" data-line-number="11">pca<span class="op">$</span>supv &lt;-<span class="st"> </span>supv<span class="op">$</span>cosup</a>
<a class="sourceLine" id="cb8-12" data-line-number="12"><span class="kw"><a href="../reference/explor.html">explor</a></span>(pca)</a></code></pre></div>
<p>You have to do the same thing for supplementary elements in a multiple correspondence analysis :</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(banque)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">d &lt;-<span class="st"> </span>banque[<span class="op">-</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>),<span class="op">-</span>(<span class="dv">19</span><span class="op">:</span><span class="dv">21</span>)]</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">ind_sup &lt;-<span class="st"> </span>banque[<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>, <span class="op">-</span>(<span class="dv">19</span><span class="op">:</span><span class="dv">21</span>)]</a>
<a class="sourceLine" id="cb9-4" data-line-number="4">var_sup &lt;-<span class="st"> </span>banque[<span class="op">-</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>),<span class="dv">19</span><span class="op">:</span><span class="dv">21</span>]</a>
<a class="sourceLine" id="cb9-5" data-line-number="5">acm &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ade4/topics/dudi.acm">dudi.acm</a></span>(d, <span class="dt">scannf =</span> <span class="ot">FALSE</span>, <span class="dt">nf =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="co">## Supplementary variables</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7">acm<span class="op">$</span>supv &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ade4/topics/supcol">supcol</a></span>(acm, <span class="kw"><a href="https://www.rdocumentation.org/packages/ade4/topics/dudi.acm">dudi.acm</a></span>(var_sup, <span class="dt">scannf =</span> <span class="ot">FALSE</span>, <span class="dt">nf =</span> <span class="dv">5</span>)<span class="op">$</span>tab)<span class="op">$</span>cosup</a>
<a class="sourceLine" id="cb9-8" data-line-number="8"><span class="co">## Supplementary individuals</span></a>
<a class="sourceLine" id="cb9-9" data-line-number="9">acm<span class="op">$</span>supi &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ade4/topics/suprow">suprow</a></span>(acm, ind_sup)<span class="op">$</span>lisup</a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="kw"><a href="../reference/explor.html">explor</a></span>(acm)</a></code></pre></div>
<p>For simple correspondence analysis, you can add supplementary rows or columns by adding their coordinates to <code>supr</code> and <code>supc</code> elements of your result object :</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(bordeaux)</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">tab &lt;-<span class="st"> </span>bordeaux</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">row_sup &lt;-<span class="st"> </span>tab[<span class="dv">5</span>,<span class="op">-</span><span class="dv">4</span>]</a>
<a class="sourceLine" id="cb10-4" data-line-number="4">col_sup &lt;-<span class="st"> </span>tab[<span class="op">-</span><span class="dv">5</span>,<span class="dv">4</span>]</a>
<a class="sourceLine" id="cb10-5" data-line-number="5">coa &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ade4/topics/dudi.coa">dudi.coa</a></span>(tab[<span class="op">-</span><span class="dv">5</span>,<span class="op">-</span><span class="dv">4</span>], <span class="dt">nf =</span> <span class="dv">5</span>, <span class="dt">scannf =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb10-6" data-line-number="6">coa<span class="op">$</span>supr &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ade4/topics/suprow">suprow</a></span>(coa, row_sup)<span class="op">$</span>lisup</a>
<a class="sourceLine" id="cb10-7" data-line-number="7">coa<span class="op">$</span>supc &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/ade4/topics/supcol">supcol</a></span>(coa, col_sup)<span class="op">$</span>cosup</a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="kw"><a href="../reference/explor.html">explor</a></span>(coa)</a></code></pre></div>
</div>
<div id="gdatools-functions" class="section level3">
<h3 class="hasAnchor">
<a href="#gdatools-functions" class="anchor"></a><code>GDAtools</code> functions</h3>
<p><code>GDAtools</code> functions should also work by directly passing the object result to <code><a href="../reference/explor.html">explor()</a></code>.</p>
<p>For example, to visualize a <code>speMCA</code> results :</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(GDAtools)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(Music)</a>
<a class="sourceLine" id="cb11-3" data-line-number="3">mca &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/GDAtools/topics/speMCA">speMCA</a></span>(Music[,<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>],<span class="dt">excl=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">9</span>,<span class="dv">12</span>,<span class="dv">15</span>))</a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="kw"><a href="../reference/explor.html">explor</a></span>(mca)</a></code></pre></div>
<p>To display supplementary individuals, you have to compute their data with the <code>indsup</code> function, and add them manually as a <code>supi</code> element of your result object.</p>
<p>Here is an example :</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(GDAtools)</a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/data">data</a></span>(Music)</a>
<a class="sourceLine" id="cb12-3" data-line-number="3">mca &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/GDAtools/topics/speMCA">speMCA</a></span>(Music[<span class="dv">3</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">nrow</a></span>(Music),<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>],<span class="dt">excl=</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">3</span>,<span class="dv">6</span>,<span class="dv">9</span>,<span class="dv">12</span>,<span class="dv">15</span>))</a>
<a class="sourceLine" id="cb12-4" data-line-number="4">mca<span class="op">$</span>supi &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/GDAtools/topics/indsup">indsup</a></span>(mca,Music[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>,<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>])</a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="kw"><a href="../reference/explor.html">explor</a></span>(mca)</a></code></pre></div>
</div>
</div>
<div id="exporting-plots" class="section level2">
<h2 class="hasAnchor">
<a href="#exporting-plots" class="anchor"></a>Exporting Plots</h2>
<p><code>explor</code> provides two different ways to export the displayed plots.</p>
<div id="svg-export" class="section level3">
<h3 class="hasAnchor">
<a href="#svg-export" class="anchor"></a>SVG export</h3>
<p>To save the displayed plot as an SVG file, click on the <em>Export to SVG</em> button in the bottom of the left sidebar, or choose <em>Export to SVG</em> in the gear menu.</p>
<p>SVG is a vector graphics format, editable with softwares like <a href="https://inkscape.org/">Inkscape</a>.</p>
<p>This SVG export may cause issues when used inside RStudio. As a workaround, you can open <code>explor</code> in a browser (with <em>Open in Browser</em> icon) before exporting.</p>
</div>
<div id="r-code" class="section level3">
<h3 class="hasAnchor">
<a href="#r-code" class="anchor"></a>R code</h3>
<p>Another way is to get the R code which allows to generate the current plot. This code can then be used in a script or a <em>Rmarkdown</em> document.</p>
<p>To do this, click on the <em>Get R code</em> button on the bottom of the left sidebar. A modal dialog should show up with the R code that you can then copy/paste.</p>
<p>Please note that this R code keeps track of the current plot zooming, but not of any custom label positioning. If you want to keep those, you have to first save them in a CSV file with <em>Export labels positions</em> gear menu entry. Then, in your R script, read this file in an object with <code>read.csv</code> and pass this object to the <code>export_labels_positions</code> argument in the generated code :</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1">labels &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/read.table">read.csv</a></span>(<span class="st">"position_labels.csv"</span>)</a>
<a class="sourceLine" id="cb13-2" data-line-number="2">res &lt;-<span class="st"> </span>explor<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/explor/topics/prepare_results">prepare_results</a></span>(mca)</a>
<a class="sourceLine" id="cb13-3" data-line-number="3">explor<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/explor/topics/MCA_var_plot">MCA_var_plot</a></span>(res, <span class="dt">xax =</span> <span class="dv">1</span>, <span class="dt">yax =</span> <span class="dv">2</span>,</a>
<a class="sourceLine" id="cb13-4" data-line-number="4">    <span class="dt">var_sup =</span> <span class="ot">TRUE</span>, , <span class="dt">var_lab_min_contrib =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb13-5" data-line-number="5">    <span class="dt">col_var =</span> <span class="st">"Variable"</span>, <span class="dt">symbol_var =</span> <span class="st">"Type"</span>,</a>
<a class="sourceLine" id="cb13-6" data-line-number="6">    <span class="dt">size_var =</span> <span class="ot">NULL</span>, <span class="dt">size_range =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">10</span>, <span class="dv">300</span>),</a>
<a class="sourceLine" id="cb13-7" data-line-number="7">    <span class="dt">labels_size =</span> <span class="dv">10</span>, <span class="dt">point_size =</span> <span class="dv">56</span>,</a>
<a class="sourceLine" id="cb13-8" data-line-number="8">    <span class="dt">transitions =</span> <span class="ot">TRUE</span>, <span class="dt">labels_positions =</span> labels)</a></code></pre></div>
</div>
</div>
<div id="feedback" class="section level2">
<h2 class="hasAnchor">
<a href="#feedback" class="anchor"></a>Feedback</h2>
<p><code>explor</code> is quite a young package, so there certainly are bugs or problems. Thanks for reporting them by mail or by opening an <a href="https://github.com/juba/explor/issues">issue on GitHub</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#explor">explor</a></li>
      <li><a href="#features">Features</a></li>
      <li><a href="#usage">Usage</a></li>
      <li><a href="#exporting-plots">Exporting Plots</a></li>
      <li><a href="#feedback">Feedback</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Julien Barnier.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
